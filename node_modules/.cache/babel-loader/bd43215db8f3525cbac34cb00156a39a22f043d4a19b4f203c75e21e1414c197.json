{"ast":null,"code":"import _slicedToArray from\"/var/lib/jenkins/workspace/webrtc-do/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';import socket from'../../socket';import ACTIONS from'../../socket/actions';import{useNavigate}from'react-router';import{v4}from'uuid';import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],updateRooms=_useState2[1];var rootNode=useRef();console.log('Message');useEffect(function(){socket.on(ACTIONS.SHARE_ROOMS,function(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$rooms=_ref.rooms,rooms=_ref$rooms===void 0?[]:_ref$rooms;if(rootNode.current){updateRooms(rooms);}});},[]);var room_id=v4();console.log(room_id);return/*#__PURE__*/_jsxs(\"div\",{ref:rootNode,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Available Rooms\"}),/*#__PURE__*/_jsx(\"ul\",{children:rooms.map(function(roomID){return/*#__PURE__*/_jsxs(\"li\",{children:[roomID,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){navigate(\"/room/\".concat(roomID));},children:\"JOIN ROOM\"})]},roomID);})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){navigate(\"/room/\".concat(room_id));},children:\"Create New Room\"})]});}","map":{"version":3,"names":["useState","useEffect","useRef","socket","ACTIONS","useNavigate","v4","Navigate","jsx","_jsx","jsxs","_jsxs","Main","navigate","_useState","_useState2","_slicedToArray","rooms","updateRooms","rootNode","console","log","on","SHARE_ROOMS","_ref","arguments","length","undefined","_ref$rooms","current","room_id","ref","children","map","roomID","onClick","concat"],"sources":["/var/lib/jenkins/workspace/webrtc-do/src/pages/Main/index.js"],"sourcesContent":["import {useState, useEffect, useRef} from 'react';\nimport socket from '../../socket';\nimport ACTIONS from '../../socket/actions';\nimport {useNavigate} from 'react-router';\nimport {v4} from 'uuid';\nimport { Navigate } from \"react-router-dom\";\n\n\n\nexport default function Main() {\n  const navigate = useNavigate();\n  const [rooms, updateRooms] = useState([]);\n  const rootNode = useRef();\n  console.log('Message');\n  useEffect(() => {\n    socket.on(ACTIONS.SHARE_ROOMS, ({rooms = []} = {}) => {\n      if (rootNode.current) {\n        updateRooms(rooms);\n      }\n    });\n  }, []);\n  const room_id = v4();\n  console.log(room_id);\n  return (\n    \n    <div ref={rootNode}>\n      <h1>Available Rooms</h1>\n\n      <ul>\n        {rooms.map(roomID => (\n          <li key={roomID}>\n            {roomID}\n            <button onClick={() => {\n              navigate(`/room/${roomID}`);\n            }}>JOIN ROOM</button>\n          </li>\n        ))}\n      </ul>\n\n      <button onClick={() => {\n\n        navigate(`/room/${room_id}`);\n      }}>Create New Room</button>\n    </div>\n  );\n}"],"mappings":"0HAAA,OAAQA,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAO,OAAO,CACjD,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,OAAQC,WAAW,KAAO,cAAc,CACxC,OAAQC,EAAE,KAAO,MAAM,CACvB,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAI5C,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,GAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,IAAAS,SAAA,CAA6Bd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,KAAK,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IACzB,GAAM,CAAAI,QAAQ,CAAGjB,MAAM,CAAC,CAAC,CACzBkB,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CACtBpB,SAAS,CAAC,UAAM,CACdE,MAAM,CAACmB,EAAE,CAAClB,OAAO,CAACmB,WAAW,CAAE,UAAuB,KAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAP,CAAC,CAAC,CAAAG,UAAA,CAAAJ,IAAA,CAAhBP,KAAK,CAALA,KAAK,CAAAW,UAAA,UAAG,EAAE,CAAAA,UAAA,CACzC,GAAIT,QAAQ,CAACU,OAAO,CAAE,CACpBX,WAAW,CAACD,KAAK,CAAC,CACpB,CACF,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CACN,GAAM,CAAAa,OAAO,CAAGxB,EAAE,CAAC,CAAC,CACpBc,OAAO,CAACC,GAAG,CAACS,OAAO,CAAC,CACpB,mBAEEnB,KAAA,QAAKoB,GAAG,CAAEZ,QAAS,CAAAa,QAAA,eACjBvB,IAAA,OAAAuB,QAAA,CAAI,iBAAe,CAAI,CAAC,cAExBvB,IAAA,OAAAuB,QAAA,CACGf,KAAK,CAACgB,GAAG,CAAC,SAAAC,MAAM,qBACfvB,KAAA,OAAAqB,QAAA,EACGE,MAAM,cACPzB,IAAA,WAAQ0B,OAAO,CAAE,SAAAA,QAAA,CAAM,CACrBtB,QAAQ,UAAAuB,MAAA,CAAUF,MAAM,CAAE,CAAC,CAC7B,CAAE,CAAAF,QAAA,CAAC,WAAS,CAAQ,CAAC,GAJdE,MAKL,CAAC,EACN,CAAC,CACA,CAAC,cAELzB,IAAA,WAAQ0B,OAAO,CAAE,SAAAA,QAAA,CAAM,CAErBtB,QAAQ,UAAAuB,MAAA,CAAUN,OAAO,CAAE,CAAC,CAC9B,CAAE,CAAAE,QAAA,CAAC,iBAAe,CAAQ,CAAC,EACxB,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}